Last-Update: 2018-05-16
Forwarded: yes
Author: Jens Axboe <axboe@kernel.dk>
Description: fix CVE-2018-10689: make device/devno use PATH_MAX to avoid overflow.  Patch from https://git.kernel.org/pub/scm/linux/kernel/git/axboe/blktrace.git/commit/?id=d61ff409cb4dda31386373d706ea0cfb1aaac5b7

Index: blktrace-1.0.5/btt/devmap.c
===================================================================
--- blktrace-1.0.5.orig/btt/devmap.c
+++ blktrace-1.0.5/btt/devmap.c
@@ -23,7 +23,7 @@
 
 struct devmap {
 	struct list_head head;
-	char device[32], devno[32];
+	char device[PATH_MAX], devno[PATH_MAX];
 };
 
 LIST_HEAD(all_devmaps);
